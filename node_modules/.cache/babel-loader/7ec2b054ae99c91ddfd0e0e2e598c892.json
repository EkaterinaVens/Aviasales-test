{"ast":null,"code":"var _jsxFileName = \"/Users/kate/Desktop/react-apps/aviasales/src/components/ticket/ticket.jsx\";\nimport React from 'react';\nimport { format } from 'date-fns';\nimport PropTypes from 'prop-types';\nimport cls from './ticket.module.scss';\nimport apiService from '../../services';\nexport default function Ticket({\n  ticket\n}) {\n  const {\n    price,\n    carrier,\n    segments\n  } = ticket;\n  // eslint-disable-next-line react/no-array-index-key\n  const renderSegments = () => segments.map((segment, id) => /*#__PURE__*/React.createElement(SegmentRoute, {\n    segment: segment,\n    key: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 62\n    }\n  }));\n  const getTicketPrice = () => {\n    const priceFormatted = new Intl.NumberFormat('ru-RU').format(price);\n    return `${priceFormatted} Р`;\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: cls.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }, getTicketPrice()), /*#__PURE__*/React.createElement(\"img\", {\n    className: cls.carrier,\n    src: apiService.getCarrierLogo(carrier),\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  })), renderSegments());\n}\nTicket.propTypes = {\n  ticket: PropTypes.shape({\n    price: PropTypes.number,\n    carrier: PropTypes.string,\n    segments: PropTypes.arrayOf(PropTypes.object)\n  }).isRequired\n};\nfunction SegmentRoute({\n  segment\n}) {\n  const {\n    origin,\n    destination,\n    date,\n    stops,\n    duration\n  } = segment;\n  const getStopsCountText = () => {\n    switch (stops.length) {\n      case 1:\n        return '1 Пересадка';\n      case 2:\n      case 3:\n        return `${stops.length} пересадки`;\n      default:\n        return 'Без пересадок';\n    }\n  };\n  const getStops = () => stops.join(', ');\n  const getTravelTime = () => {\n    return `${Math.floor(duration / 60)}ч ${duration % 60}м`;\n  };\n  const getRouteTimes = () => {\n    const origDate = new Date(date);\n    const destDate = new Date(origDate.getTime() + duration * 6e4);\n    return `${format(origDate, 'HH:mm')} - ${format(destDate, 'HH:mm')}`;\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.segment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.route,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.top,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, `${origin} - ${destination}`), /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.bottom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, getRouteTimes())), /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.top,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, \"\\u0412 \\u043F\\u0443\\u0442\\u0438\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.bottom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, getTravelTime())), /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.stops,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.top,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, getStopsCountText()), /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.bottom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, getStops())));\n}\nSegmentRoute.propTypes = {\n  segment: PropTypes.shape({\n    origin: PropTypes.string,\n    destination: PropTypes.string,\n    date: PropTypes.string,\n    stops: PropTypes.arrayOf(PropTypes.string),\n    duration: PropTypes.number\n  }).isRequired\n};","map":{"version":3,"names":["React","format","PropTypes","cls","apiService","Ticket","ticket","price","carrier","segments","renderSegments","map","segment","id","createElement","SegmentRoute","key","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","getTicketPrice","priceFormatted","Intl","NumberFormat","className","container","header","src","getCarrierLogo","alt","propTypes","shape","number","string","arrayOf","object","isRequired","origin","destination","date","stops","duration","getStopsCountText","length","getStops","join","getTravelTime","Math","floor","getRouteTimes","origDate","Date","destDate","getTime","route","top","bottom"],"sources":["/Users/kate/Desktop/react-apps/aviasales/src/components/ticket/ticket.jsx"],"sourcesContent":["import React from 'react';\nimport { format } from 'date-fns';\nimport PropTypes from 'prop-types';\nimport cls from './ticket.module.scss';\nimport apiService from '../../services';\n\nexport default function Ticket({ ticket }) {\n  const { price, carrier, segments } = ticket;\n  // eslint-disable-next-line react/no-array-index-key\n  const renderSegments = () => segments.map((segment, id) => <SegmentRoute segment={segment} key={id} />);\n\n  const getTicketPrice = () => {\n    const priceFormatted = new Intl.NumberFormat('ru-RU').format(price);\n    return `${priceFormatted} Р`;\n  };\n\n  return (\n    <div className={cls.container}>\n      <div className={cls.header}>\n        <span className={cls.price}>{getTicketPrice()}</span>\n        <img className={cls.carrier} src={apiService.getCarrierLogo(carrier)} alt=\"\" />\n      </div>\n      {renderSegments()}\n    </div>\n  );\n}\n\nTicket.propTypes = {\n  ticket: PropTypes.shape({\n    price: PropTypes.number,\n    carrier: PropTypes.string,\n    segments: PropTypes.arrayOf(PropTypes.object),\n  }).isRequired,\n};\n\nfunction SegmentRoute({ segment }) {\n  const { origin, destination, date, stops, duration } = segment;\n\n  const getStopsCountText = () => {\n    switch (stops.length) {\n      case 1:\n        return '1 Пересадка';\n      case 2:\n      case 3:\n        return `${stops.length} пересадки`;\n      default:\n        return 'Без пересадок';\n    }\n  };\n\n  const getStops = () => stops.join(', ');\n  const getTravelTime = () => {\n    return `${Math.floor(duration / 60)}ч ${duration % 60}м`;\n  };\n  const getRouteTimes = () => {\n    const origDate = new Date(date);\n    const destDate = new Date(origDate.getTime() + duration * 6e4);\n    return `${format(origDate, 'HH:mm')} - ${format(destDate, 'HH:mm')}`;\n  };\n\n  return (\n    <div className={cls.segment}>\n      <div className={cls.route}>\n        <div className={cls.top}>{`${origin} - ${destination}`}</div>\n        <div className={cls.bottom}>{getRouteTimes()}</div>\n      </div>\n      <div className={cls.length}>\n        <div className={cls.top}>В пути</div>\n        <div className={cls.bottom}>{getTravelTime()}</div>\n      </div>\n      <div className={cls.stops}>\n        <div className={cls.top}>{getStopsCountText()}</div>\n        <div className={cls.bottom}>{getStops()}</div>\n      </div>\n    </div>\n  );\n}\n\nSegmentRoute.propTypes = {\n  segment: PropTypes.shape({\n    origin: PropTypes.string,\n    destination: PropTypes.string,\n    date: PropTypes.string,\n    stops: PropTypes.arrayOf(PropTypes.string),\n    duration: PropTypes.number,\n  }).isRequired,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}