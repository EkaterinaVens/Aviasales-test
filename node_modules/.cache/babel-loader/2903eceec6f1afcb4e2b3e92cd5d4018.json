{"ast":null,"code":"var _jsxFileName = \"/Users/kate/Desktop/react-apps/aviasales/src/components/tickets-page/tickets-page.jsx\";\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { debounce } from 'lodash';\nimport Filters from '../filters';\nimport TicketList from '../ticket-list';\nimport cls from './tickets-page.module.scss';\nimport SortingButtons from '../sorting-buttons';\nimport { useEventListener } from '../../hooks';\nconst renderError = () => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 10\n    }\n  }, \"Oops, Something Went Wrong\");\n};\nconst renderLoader = () => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.loader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 10\n    }\n  }, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u0435\\u043C \\u0431\\u0438\\u043B\\u0435\\u0442\\u044B...\");\n};\nconst scrollToTop = () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth'\n  });\n};\nconst renderBackTop = () => {\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: cls.backTop,\n    type: \"button\",\n    onClick: scrollToTop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, \"\\u0412\\u0432\\u0435\\u0440\\u0445\");\n};\nconst renderNoTicketsNotify = () => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 10\n    }\n  }, \"\\u0420\\u0435\\u0439\\u0441\\u043E\\u0432, \\u043F\\u043E\\u0434\\u0445\\u043E\\u0434\\u044F\\u0449\\u0438\\u0445 \\u043F\\u043E\\u0434 \\u0437\\u0430\\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B, \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\");\n};\nconst addingBackTopOnPage = (isScrolled, setIsScrolled) => {\n  return debounce(() => {\n    const {\n      scrollTop,\n      clientHeight\n    } = document.documentElement;\n    if (scrollTop >= clientHeight && !isScrolled) {\n      setIsScrolled(true);\n    }\n    if (scrollTop < clientHeight && isScrolled) {\n      setIsScrolled(false);\n    }\n  }, 100);\n};\nfunction TicketsPage() {\n  const {\n    isError,\n    isStopped\n  } = useSelector(state => state.status);\n  const [isScrolled, setIsScrolled] = useState(false);\n  const ticketsCount = useSelector(state => state.readyTickets.length);\n  useEventListener('scroll', addingBackTopOnPage(isScrolled, setIsScrolled));\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: cls.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.filters,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Filters, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SortingButtons, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: cls.tickets,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, isError && renderError(), isStopped && !ticketsCount && renderNoTicketsNotify(), !isError && !isStopped && renderLoader(), /*#__PURE__*/React.createElement(TicketList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }))), isScrolled && renderBackTop());\n}\nexport default TicketsPage;","map":{"version":3,"names":["React","useState","useSelector","debounce","Filters","TicketList","cls","SortingButtons","useEventListener","renderError","createElement","className","error","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","renderLoader","loader","scrollToTop","window","scrollTo","top","behavior","renderBackTop","backTop","type","onClick","renderNoTicketsNotify","addingBackTopOnPage","isScrolled","setIsScrolled","scrollTop","clientHeight","document","documentElement","TicketsPage","isError","isStopped","state","status","ticketsCount","readyTickets","length","container","filters","content","tickets"],"sources":["/Users/kate/Desktop/react-apps/aviasales/src/components/tickets-page/tickets-page.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { debounce } from 'lodash';\nimport Filters from '../filters';\nimport TicketList from '../ticket-list';\nimport cls from './tickets-page.module.scss';\nimport SortingButtons from '../sorting-buttons';\nimport { useEventListener } from '../../hooks';\n\nconst renderError = () => {\n  return <div className={cls.error}>Oops, Something Went Wrong</div>;\n};\n\nconst renderLoader = () => {\n  return <div className={cls.loader}>Загружаем билеты...</div>;\n};\n\nconst scrollToTop = () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n};\n\nconst renderBackTop = () => {\n  return (\n    <button className={cls.backTop} type=\"button\" onClick={scrollToTop}>\n      Вверх\n    </button>\n  );\n};\n\nconst renderNoTicketsNotify = () => {\n  return <div className={cls.error}>Рейсов, подходящих под заданные фильтры, не найдено</div>;\n};\n\nconst addingBackTopOnPage = (isScrolled, setIsScrolled) => {\n  return debounce(() => {\n    const { scrollTop, clientHeight } = document.documentElement;\n    if (scrollTop >= clientHeight && !isScrolled) {\n      setIsScrolled(true);\n    }\n    if (scrollTop < clientHeight && isScrolled) {\n      setIsScrolled(false);\n    }\n  }, 100);\n};\n\nfunction TicketsPage() {\n  const { isError, isStopped } = useSelector((state) => state.status);\n  const [isScrolled, setIsScrolled] = useState(false);\n  const ticketsCount = useSelector((state) => state.readyTickets.length);\n\n  useEventListener('scroll', addingBackTopOnPage(isScrolled, setIsScrolled));\n\n  return (\n    <main className={cls.container}>\n      <div className={cls.filters}>\n        <Filters />\n      </div>\n      <div className={cls.content}>\n        <SortingButtons />\n        <div className={cls.tickets}>\n          {isError && renderError()}\n          {isStopped && !ticketsCount && renderNoTicketsNotify()}\n          {!isError && !isStopped && renderLoader()}\n          <TicketList />\n        </div>\n      </div>\n      {isScrolled && renderBackTop()}\n    </main>\n  );\n}\n\nexport default TicketsPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}