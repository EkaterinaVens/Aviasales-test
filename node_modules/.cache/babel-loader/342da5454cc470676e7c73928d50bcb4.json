{"ast":null,"code":"var _jsxFileName = \"/Users/kate/Desktop/react-apps/aviasales/src/components/app/app.jsx\";\nimport React, { useEffect, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport logo from \"../../images/Logo.svg\";\nimport TicketsPage from '../tickets-page';\nimport classes from './app.module.scss';\nimport { fetchTickets, filterTickets, setStatus } from '../../store/actions';\nexport default function App() {\n  const status = useSelector(state => state.status);\n  const filters = useSelector(state => state.filters);\n  const sortingType = useSelector(state => state.sortingType);\n  const {\n    isLoaded,\n    isStopped,\n    isError\n  } = status;\n  const dispatch = useDispatch();\n  const load = useCallback(() => dispatch(fetchTickets()), [dispatch]);\n  const filter = useCallback((...args) => dispatch(filterTickets(...args)), [dispatch]);\n  useEffect(() => {\n    if (isLoaded) {\n      filter();\n      dispatch(setStatus({\n        isLoaded: false\n      }));\n      return;\n    }\n    if (!isStopped && !isError) {\n      load();\n    }\n  }, [isLoaded, isStopped, isError, filter, dispatch, load]);\n  useEffect(() => {\n    filter();\n  }, [filters, sortingType, filter]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: classes.logo,\n    src: logo,\n    alt: \"aviasales logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TicketsPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"names":["React","useEffect","useCallback","useSelector","useDispatch","logo","TicketsPage","classes","fetchTickets","filterTickets","setStatus","App","status","state","filters","sortingType","isLoaded","isStopped","isError","dispatch","load","filter","args","createElement","className","container","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","alt"],"sources":["/Users/kate/Desktop/react-apps/aviasales/src/components/app/app.jsx"],"sourcesContent":["import React, { useEffect, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport logo from '../../images/Logo.svg';\nimport TicketsPage from '../tickets-page';\nimport classes from './app.module.scss';\nimport { fetchTickets, filterTickets, setStatus } from '../../store/actions';\n\nexport default function App() {\n  const status = useSelector((state) => state.status);\n  const filters = useSelector((state) => state.filters);\n  const sortingType = useSelector((state) => state.sortingType);\n  const { isLoaded, isStopped, isError } = status;\n  const dispatch = useDispatch();\n  const load = useCallback(() => dispatch(fetchTickets()), [dispatch]);\n  const filter = useCallback((...args) => dispatch(filterTickets(...args)), [dispatch]);\n\n  useEffect(() => {\n    if (isLoaded) {\n      filter();\n      dispatch(setStatus({ isLoaded: false }));\n      return;\n    }\n    if (!isStopped && !isError) {\n      load();\n    }\n  }, [isLoaded, isStopped, isError, filter, dispatch, load]);\n\n  useEffect(() => {\n    filter();\n  }, [filters, sortingType, filter]);\n\n  return (\n    <div className={classes.container}>\n      <img className={classes.logo} src={logo} alt=\"aviasales logo\" />\n      <TicketsPage />\n    </div>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACrD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAAC,OAAAC,IAAA;AAEvD,OAAOC,WAAW,MAAM,iBAAiB;AACzC,OAAOC,OAAO,MAAM,mBAAmB;AACvC,SAASC,YAAY,EAAEC,aAAa,EAAEC,SAAS,QAAQ,qBAAqB;AAE5E,eAAe,SAASC,GAAGA,CAAA,EAAG;EAC5B,MAAMC,MAAM,GAAGT,WAAW,CAAEU,KAAK,IAAKA,KAAK,CAACD,MAAM,CAAC;EACnD,MAAME,OAAO,GAAGX,WAAW,CAAEU,KAAK,IAAKA,KAAK,CAACC,OAAO,CAAC;EACrD,MAAMC,WAAW,GAAGZ,WAAW,CAAEU,KAAK,IAAKA,KAAK,CAACE,WAAW,CAAC;EAC7D,MAAM;IAAEC,QAAQ;IAAEC,SAAS;IAAEC;EAAQ,CAAC,GAAGN,MAAM;EAC/C,MAAMO,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAC9B,MAAMgB,IAAI,GAAGlB,WAAW,CAAC,MAAMiB,QAAQ,CAACX,YAAY,CAAC,CAAC,CAAC,EAAE,CAACW,QAAQ,CAAC,CAAC;EACpE,MAAME,MAAM,GAAGnB,WAAW,CAAC,CAAC,GAAGoB,IAAI,KAAKH,QAAQ,CAACV,aAAa,CAAC,GAAGa,IAAI,CAAC,CAAC,EAAE,CAACH,QAAQ,CAAC,CAAC;EAErFlB,SAAS,CAAC,MAAM;IACd,IAAIe,QAAQ,EAAE;MACZK,MAAM,CAAC,CAAC;MACRF,QAAQ,CAACT,SAAS,CAAC;QAAEM,QAAQ,EAAE;MAAM,CAAC,CAAC,CAAC;MACxC;IACF;IACA,IAAI,CAACC,SAAS,IAAI,CAACC,OAAO,EAAE;MAC1BE,IAAI,CAAC,CAAC;IACR;EACF,CAAC,EAAE,CAACJ,QAAQ,EAAEC,SAAS,EAAEC,OAAO,EAAEG,MAAM,EAAEF,QAAQ,EAAEC,IAAI,CAAC,CAAC;EAE1DnB,SAAS,CAAC,MAAM;IACdoB,MAAM,CAAC,CAAC;EACV,CAAC,EAAE,CAACP,OAAO,EAAEC,WAAW,EAAEM,MAAM,CAAC,CAAC;EAElC,oBACErB,KAAA,CAAAuB,aAAA;IAAKC,SAAS,EAAEjB,OAAO,CAACkB,SAAU;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAChC/B,KAAA,CAAAuB,aAAA;IAAKC,SAAS,EAAEjB,OAAO,CAACF,IAAK;IAAC2B,GAAG,EAAE3B,IAAK;IAAC4B,GAAG,EAAC,gBAAgB;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAChE/B,KAAA,CAAAuB,aAAA,CAACjB,WAAW;IAAAoB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACX,CAAC;AAEV"},"metadata":{},"sourceType":"module"}